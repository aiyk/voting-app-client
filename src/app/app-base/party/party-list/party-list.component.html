<div class="table">
  <div class="thead">
    <div class="tr">
      <div class="th">Party</div>
      <div class="th">Candidates</div>
      <div class="th"></div>
    </div>
  </div>

  <div class="tbody">
    <div *ngFor="let party of parties; let i = index" class="tr">
      <div class="td">{{party.partyname}}</div>
      <div class="td">
        <div class="tbl__list">
          <div class="candidate__wrap" *ngFor="let candidate of party.candidates">
            <span class="candidate">{{candidate.candidatename}}</span>
            <span class="running__for">{{candidate.electionname}}</span>
          </div>
        </div>
      </div>
      <div class="td td-actions dropdown-wrap">
        <button (click)="tblmenuitem_onclick(i)" class="btn-hollow btn-elipsis-v-center btn-x0"></button>
        <div class="dropdown-wrap">
          <ul (click)="tblmenuitem_onclick('')" *ngIf="item_to_show(i)" class="dropdown-menu">
            <li (click)="editItem(i)" ><img src="assets/icon-set/edit.svg"> Edit </li>
            <li (click)="editCandidate(i)" ><img src="assets/icon-set/edit.svg"> Manage Candidates </li>
            <li (click)="deleteParty(party._id)"><img src="assets/icon-set/trash.svg"> Delete</li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>

<div *ngIf="edit_mode" class="modal__overlay">
  <app-party-edit [formData]="formData" (closeModal)="closeModal()" [partyId]="partyId"></app-party-edit>
</div>

<div *ngIf="edit_candidate" class="modal__overlay">
  <app-party-candidates [formData]="formData" (closeModal)="closeModal()" [partyId]="partyId"></app-party-candidates>
</div>
